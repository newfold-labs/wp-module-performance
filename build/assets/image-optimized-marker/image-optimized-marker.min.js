(()=>{"use strict";var t,n,e,r;t={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},n=["(","?"],e={")":["("],":":["?","?:"]},r=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var i={"!":function(t){return!t},"*":function(t,n){return t*n},"/":function(t,n){return t/n},"%":function(t,n){return t%n},"+":function(t,n){return t+n},"-":function(t,n){return t-n},"<":function(t,n){return t<n},"<=":function(t,n){return t<=n},">":function(t,n){return t>n},">=":function(t,n){return t>=n},"==":function(t,n){return t===n},"!=":function(t,n){return t!==n},"&&":function(t,n){return t&&n},"||":function(t,n){return t||n},"?:":function(t,n,e){if(t)throw n;return e}};function o(o){var s=function(i){for(var o,s,a,c,l=[],u=[];o=i.match(r);){for(s=o[0],(a=i.substr(0,o.index).trim())&&l.push(a);c=u.pop();){if(e[s]){if(e[s][0]===c){s=e[s][1]||s;break}}else if(n.indexOf(c)>=0||t[c]<t[s]){u.push(c);break}l.push(c)}e[s]||u.push(s),i=i.substr(o.index+s.length)}return(i=i.trim())&&l.push(i),l.concat(u.reverse())}(o);return function(t){return function(t,n){var e,r,o,s,a,c,l=[];for(e=0;e<t.length;e++){if(a=t[e],s=i[a]){for(r=s.length,o=Array(r);r--;)o[r]=l.pop();try{c=s.apply(null,o)}catch(t){return t}}else c=n.hasOwnProperty(a)?n[a]:+a;l.push(c)}return l[0]}(s,t)}}var s={contextDelimiter:"",onMissingKey:null};function a(t,n){var e;for(e in this.data=t,this.pluralForms={},this.options={},s)this.options[e]=void 0!==n&&e in n?n[e]:s[e]}a.prototype.getPluralForm=function(t,n){var e,r,i,s=this.pluralForms[t];return s||("function"!=typeof(i=(e=this.data[t][""])["Plural-Forms"]||e["plural-forms"]||e.plural_forms)&&(r=function(t){var n,e,r;for(n=t.split(";"),e=0;e<n.length;e++)if(0===(r=n[e].trim()).indexOf("plural="))return r.substr(7)}(e["Plural-Forms"]||e["plural-forms"]||e.plural_forms),i=function(t){var n=o(t);return function(t){return+n({n:t})}}(r)),s=this.pluralForms[t]=i),s(n)},a.prototype.dcnpgettext=function(t,n,e,r,i){var o,s,a;return o=void 0===i?0:this.getPluralForm(t,i),s=e,n&&(s=n+this.options.contextDelimiter+e),(a=this.data[t][s])&&a[o]?a[o]:(this.options.onMissingKey&&this.options.onMissingKey(e,t),0===o?e:r)};const c={plural_forms:t=>1===t?0:1},l=/^i18n\.(n?gettext|has_translation)(_|$)/;const u=function(t){return"string"==typeof t&&""!==t&&!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(t)};const d=function(t){return"string"==typeof t&&""!==t&&(!/^__/.test(t)&&!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(t))};const f=function(t,n){return function(e,r,i,o=10){const s=t[n];if(!d(e))return;if(!u(r))return;if("function"!=typeof i)return;if("number"!=typeof o)return;const a={callback:i,priority:o,namespace:r};if(s[e]){const t=s[e].handlers;let n;for(n=t.length;n>0&&!(o>=t[n-1].priority);n--);n===t.length?t[n]=a:t.splice(n,0,a),s.__current.forEach((t=>{t.name===e&&t.currentIndex>=n&&t.currentIndex++}))}else s[e]={handlers:[a],runs:0};"hookAdded"!==e&&t.doAction("hookAdded",e,r,i,o)}};const h=function(t,n,e=!1){return function(r,i){const o=t[n];if(!d(r))return;if(!e&&!u(i))return;if(!o[r])return 0;let s=0;if(e)s=o[r].handlers.length,o[r]={runs:o[r].runs,handlers:[]};else{const t=o[r].handlers;for(let n=t.length-1;n>=0;n--)t[n].namespace===i&&(t.splice(n,1),s++,o.__current.forEach((t=>{t.name===r&&t.currentIndex>=n&&t.currentIndex--})))}return"hookRemoved"!==r&&t.doAction("hookRemoved",r,i),s}};const p=function(t,n){return function(e,r){const i=t[n];return void 0!==r?e in i&&i[e].handlers.some((t=>t.namespace===r)):e in i}};const m=function(t,n,e,r){return function(i,...o){const s=t[n];s[i]||(s[i]={handlers:[],runs:0}),s[i].runs++;const a=s[i].handlers;if(!a||!a.length)return e?o[0]:void 0;const c={name:i,currentIndex:0};return(r?async function(){try{s.__current.add(c);let t=e?o[0]:void 0;for(;c.currentIndex<a.length;){const n=a[c.currentIndex];t=await n.callback.apply(null,o),e&&(o[0]=t),c.currentIndex++}return e?t:void 0}finally{s.__current.delete(c)}}:function(){try{s.__current.add(c);let t=e?o[0]:void 0;for(;c.currentIndex<a.length;){t=a[c.currentIndex].callback.apply(null,o),e&&(o[0]=t),c.currentIndex++}return e?t:void 0}finally{s.__current.delete(c)}})()}};const _=function(t,n){return function(){var e;const r=t[n],i=Array.from(r.__current);return null!==(e=i.at(-1)?.name)&&void 0!==e?e:null}};const y=function(t,n){return function(e){const r=t[n];return void 0===e?r.__current.size>0:Array.from(r.__current).some((t=>t.name===e))}};const v=function(t,n){return function(e){const r=t[n];if(d(e))return r[e]&&r[e].runs?r[e].runs:0}};class A{constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=f(this,"actions"),this.addFilter=f(this,"filters"),this.removeAction=h(this,"actions"),this.removeFilter=h(this,"filters"),this.hasAction=p(this,"actions"),this.hasFilter=p(this,"filters"),this.removeAllActions=h(this,"actions",!0),this.removeAllFilters=h(this,"filters",!0),this.doAction=m(this,"actions",!1,!1),this.doActionAsync=m(this,"actions",!1,!0),this.applyFilters=m(this,"filters",!0,!1),this.applyFiltersAsync=m(this,"filters",!0,!0),this.currentAction=_(this,"actions"),this.currentFilter=_(this,"filters"),this.doingAction=y(this,"actions"),this.doingFilter=y(this,"filters"),this.didAction=v(this,"actions"),this.didFilter=v(this,"filters")}}const g=function(){return new A}(),{addAction:x,addFilter:F,removeAction:b,removeFilter:w,hasAction:k,hasFilter:I,removeAllActions:L,removeAllFilters:D,doAction:z,doActionAsync:O,applyFilters:E,applyFiltersAsync:P,currentAction:S,currentFilter:M,doingAction:R,doingFilter:T,didAction:Z,didFilter:q,actions:C,filters:K}=g,$=((t,n,e)=>{const r=new a({}),i=new Set,o=()=>{i.forEach((t=>t()))},s=(t,n="default")=>{r.data[n]={...r.data[n],...t},r.data[n][""]={...c,...r.data[n]?.[""]},delete r.pluralForms[n]},u=(t,n)=>{s(t,n),o()},d=(t="default",n,e,i,o)=>(r.data[t]||s(void 0,t),r.dcnpgettext(t,n,e,i,o)),f=t=>t||"default",_x=(t,n,r)=>{let i=d(r,n,t);return e?(i=e.applyFilters("i18n.gettext_with_context",i,t,n,r),e.applyFilters("i18n.gettext_with_context_"+f(r),i,t,n,r)):i};if(t&&u(t,n),e){const t=t=>{l.test(t)&&o()};e.addAction("hookAdded","core/i18n",t),e.addAction("hookRemoved","core/i18n",t)}return{getLocaleData:(t="default")=>r.data[t],setLocaleData:u,addLocaleData:(t,n="default")=>{r.data[n]={...r.data[n],...t,"":{...c,...r.data[n]?.[""],...t?.[""]}},delete r.pluralForms[n],o()},resetLocaleData:(t,n)=>{r.data={},r.pluralForms={},u(t,n)},subscribe:t=>(i.add(t),()=>i.delete(t)),__:(t,n)=>{let r=d(n,void 0,t);return e?(r=e.applyFilters("i18n.gettext",r,t,n),e.applyFilters("i18n.gettext_"+f(n),r,t,n)):r},_x,_n:(t,n,r,i)=>{let o=d(i,void 0,t,n,r);return e?(o=e.applyFilters("i18n.ngettext",o,t,n,r,i),e.applyFilters("i18n.ngettext_"+f(i),o,t,n,r,i)):o},_nx:(t,n,r,i,o)=>{let s=d(o,i,t,n,r);return e?(s=e.applyFilters("i18n.ngettext_with_context",s,t,n,r,i,o),e.applyFilters("i18n.ngettext_with_context_"+f(o),s,t,n,r,i,o)):s},isRTL:()=>"rtl"===_x("ltr","text direction"),hasTranslation:(t,n,i)=>{const o=n?n+""+t:t;let s=!!r.data?.[null!=i?i:"default"]?.[o];return e&&(s=e.applyFilters("i18n.has_translation",s,t,n,i),s=e.applyFilters("i18n.has_translation_"+f(i),s,t,n,i)),s}}})(void 0,void 0,g),__=($.getLocaleData.bind($),$.setLocaleData.bind($),$.resetLocaleData.bind($),$.subscribe.bind($),$.__.bind($));$._x.bind($),$._n.bind($),$._nx.bind($),$.isRTL.bind($),$.hasTranslation.bind($);document.addEventListener("DOMContentLoaded",(()=>{const t=()=>{document.querySelectorAll(".attachment").forEach((t=>{const n=t.getAttribute("data-id");if(wp.media.attachment(n).attributes.nfdPerformanceImageOptimized&&!t.querySelector(".nfd-performance-image-optimized-marker")){const n=document.createElement("span");n.textContent=__("Optimized","wp-module-performance"),n.className="nfd-performance-image-optimized-marker",t.querySelector(".thumbnail")?.appendChild(n)}}))};new MutationObserver(t).observe(document.body,{childList:!0,subtree:!0}),t()}))})();